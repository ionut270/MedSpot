(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{127:function(e,t,n){},140:function(e,t,n){},157:function(e,t,n){},160:function(e,t,n){},231:function(e,t,n){},232:function(e,t,n){},238:function(e,t,n){},239:function(e,t,n){},240:function(e,t,n){},241:function(e,t,n){},242:function(e,t,n){},243:function(e,t,n){"use strict";n.r(t);var a=n(18),s=n.n(a),i=n(27),c=n(20),r=n(21),o=n(28),l=n(23),u=n(22),p=n(0),j=n.n(p),d=n(31),h=n.n(d),m=n(248),b=n(261),O=n(258),f=n(61),x=(n(157),n(3)),g=n(48),v=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={visible:!1,placement:"bottom"},e.showDrawer=function(){e.setState({visible:!0})},e.onClose=function(){e.setState({visible:!1})},e}return Object(r.a)(n,[{key:"logOut",value:function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.request("/api/auth/logout","DELETE");case 2:localStorage.clear(),window.location.reload();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.placement,n=e.visible;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(b.b,{children:Object(x.jsx)("div",{className:"header_logo",onClick:this.showDrawer,children:"MEDSPOT"})}),Object(x.jsxs)(O.a,{title:"Menu",placement:t,closable:!1,onClose:this.onClose,visible:n,children:[Object(x.jsx)("p",{children:"Settings"}),Object(x.jsx)("p",{children:"About"}),Object(x.jsx)("p",{children:"Support"}),Object(x.jsx)(f.a,{onClick:this.logOut,children:"Log out"})]},t)]})}}]),n}(j.a.Component),k=n(259),y=n(262),_=n(123),N=n(263),w=n(264),C=n(265),S=(n(160),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleClick=function(e){a.props.changePage(e.key),a.setState({current:e.key})},a.state={current:"search"},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.props.changePage("search"),this.setState({current:"search"})}},{key:"render",value:function(){var e=this.state.current;return Object(x.jsxs)(k.a,{className:"footer_menu",onClick:this.handleClick,selectedKeys:[e],mode:"horizontal",children:[Object(x.jsx)(k.a.Item,{icon:Object(x.jsx)(y.a,{})},"home"),Object(x.jsx)(k.a.Item,{icon:Object(x.jsx)(_.a,{})},"search"),Object(x.jsx)(k.a.Item,{icon:Object(x.jsx)(N.a,{})},"message"),Object(x.jsx)(k.a.Item,{icon:Object(x.jsx)(w.a,{})},"bell"),Object(x.jsx)(k.a.Item,{icon:Object(x.jsx)(C.a,{})},"user")]})}}]),n}(j.a.Component)),P=n(255),D=n(250),I=n(245),F=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={},a}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.editMode,n=e.profile;return Object(x.jsxs)(D.a,{className:"user_data",title:"".concat(n.given_name," ").concat(n.family_name," "),extra:Object(x.jsx)(f.a,{onClick:function(e){e.preventDefault(),t("on")},children:"Edit"}),children:[Object(x.jsxs)("p",{children:["Email : ",n.email]}),Object(x.jsxs)("p",{children:["Phone : ",n.phone]}),Object(x.jsx)(I.a,{}),Object(x.jsxs)("p",{children:["CNP : ",n.cnp]}),Object(x.jsxs)("p",{children:["Date of birth : ",n.dob]}),Object(x.jsx)(I.a,{children:"Medical data"}),Object(x.jsxs)("p",{children:["Blood : ",n.blood_type]}),Object(x.jsxs)("p",{children:["Weight : ",n.weight]}),Object(x.jsxs)("p",{children:["Height : ",n.height]})]})}}]),n}(j.a.Component),q=n(251),M=n(253),T=n(249),A=n(252),E=n(41),z=n.n(E),B=n(48),Y=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onFinish=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.props.loading("on"),e.next=3,B.request("/profile","PATCH",t);case 3:a.props.loading("off"),window.location.reload();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onFinishFailed=function(e){console.log("Failed:",e)},a.state={user:a.props.user},a}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.profile,n=e.editMode,a="YYYY-MM-DD";return Object(x.jsxs)(q.a,{className:"edit_form complete_form",name:"profile_info",initialValues:{remember:!0},onFinish:this.onFinish,onFinishFailed:this.onFinishFailed,children:[Object(x.jsx)(q.a.Item,{label:"CNP",name:"cnp",rules:[{required:!0,message:"Please input your CNP!"}],children:Object(x.jsx)(M.a,{defaultValue:t.cnp?t.cnp:"",className:"complete_form_input"})}),Object(x.jsx)(q.a.Item,{label:"Date of birth",name:"dob",rules:[{required:!0,message:"Please input your date of birth!"}],children:Object(x.jsx)(T.a,{defaultValue:t.dob?z()(t.dob,a):null,className:"complete_form_input",format:a})}),Object(x.jsx)(q.a.Item,{label:"Phone",name:"phone",children:Object(x.jsx)(M.a,{defaultValue:t.phone?t.phone:"",className:"complete_form_input"})}),Object(x.jsx)(q.a.Item,{label:"Weight",name:"weight",children:Object(x.jsx)(M.a,{defaultValue:t.weight?t.weight:"",className:"complete_form_input"})}),Object(x.jsx)(q.a.Item,{label:"Height",name:"height",children:Object(x.jsx)(M.a,{defaultValue:t.height?t.height:"",className:"complete_form_input"})}),Object(x.jsx)(q.a.Item,{label:"Medical Gender",name:"gender",children:Object(x.jsxs)(A.a,{defaultValue:t.gender?t.gender:"",className:"complete_form_input",placeholder:"Male or Female",allowClear:!0,children:[Object(x.jsx)(A.a.Option,{value:"male",children:"Male"}),Object(x.jsx)(A.a.Option,{value:"female",children:"Female"})]})}),Object(x.jsx)(q.a.Item,{label:"Blood type",name:"blood_type",children:Object(x.jsxs)(A.a,{defaultValue:t.blood_type?t.blood_type:"",className:"complete_form_input",placeholder:"A, B, AB or 0",allowClear:!0,children:[Object(x.jsx)(A.a.Option,{value:"A",children:"A"}),Object(x.jsx)(A.a.Option,{value:"B",children:"B"}),Object(x.jsx)(A.a.Option,{value:"AB",children:"AB"}),Object(x.jsx)(A.a.Option,{value:"0",children:"0"})]})}),Object(x.jsxs)(q.a.Item,{className:"edit_submit",children:[Object(x.jsx)(f.a,{className:"edit_submit_button",type:"primary",htmlType:"submit",children:"Submit"}),Object(x.jsx)(f.a,{className:"edit_submit_button",type:"danger",onClick:function(e){e.preventDefault(),n("off")},children:"Cancel"})]})]})}}]),n}(j.a.Component),G=(n(231),n(48)),H=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).state={edit:!1,profile:{}},e.editMode=e.editMode.bind(Object(o.a)(e)),e.getProfile=e.getProfile.bind(Object(o.a)(e)),e.updateProfile=e.updateProfile.bind(Object(o.a)(e)),e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.getProfile()}},{key:"getProfile",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.loading("on"),e.next=3,G.request("/profile","GET");case 3:t=e.sent,this.setState({profile:t}),this.props.loading("off");case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateProfile",value:function(){this.getProfile(),this.setState({edit:!1})}},{key:"editMode",value:function(e){this.setState({edit:"on"===e})}},{key:"render",value:function(){var e=this.state,t=e.edit,n=e.profile;return Object(x.jsxs)("div",{className:"user",children:[Object(x.jsx)(P.a,{className:"user_avatar",size:{xs:100,sm:100,md:100,lg:100,xl:100,xxl:100},style:{backgroundColor:"#87d068"},icon:Object(x.jsx)(C.a,{}),src:"".concat(n.picture)}),t?Object(x.jsx)(Y,{profile:n,loading:this.props.loading,editMode:this.editMode}):Object(x.jsx)(F,{profile:n,editMode:this.editMode})]})}}]),n}(j.a.Component),V=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(x.jsx)("div",{})}}]),n}(j.a.Component),L=n(266),W=n(84),J=n(254),R=n(256),U=n(257),K=n(92),Z={width:"100%",height:"30em"},Q=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.center,n=e.target;return Object(x.jsx)(K.b,{googleMapsApiKey:"AIzaSyCgPxDaSjZAVutlq-imNn24j3V1eYemR2w",children:Object(x.jsxs)(K.a,{className:"google_maps_map",center:n,mapContainerStyle:Z,clickableIcons:!0,defaultZoom:7,zoom:7,children:[Object(x.jsx)(K.c,{position:t}),Object(x.jsx)(K.c,{position:n,icon:"https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png"})]})})}}]),n}(j.a.Component),X=n(48),$=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={location:{},showDetails:!1,showCabinets:!1,cabinets:[],details:{}},a.getIssueDetails=a.getIssueDetails.bind(Object(o.a)(a)),a.getCabinets=a.getCabinets.bind(Object(o.a)(a)),a.hideCabinets=a.hideCabinets.bind(Object(o.a)(a)),a.hideDetails=a.hideDetails.bind(Object(o.a)(a)),a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){var n=t.coords,a={lat:n.latitude,lng:n.longitude};e.setState({location:a})})):alert("Geolocation is not supported by this browser.")}},{key:"getIssueDetails",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.request("/health/issues/".concat(this.props.diagnostic.Issue.ID),"GET");case 2:t=e.sent,this.setState({details:t,showDetails:!0});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hideCabinets",value:function(){this.setState({showCabinets:!1,cabinets:{}})}},{key:"hideDetails",value:function(){this.setState({showDetails:!1,details:{}})}},{key:"getCabinets",value:function(){var e=Object(i.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="circle:100000@".concat(this.state.location.lat,",").concat(this.state.location.lng),e.next=3,X.request("/places?type=".concat(t,"&locationbias=").concat(n),"GET");case 3:a=e.sent,this.setState({cabinets:a,showCabinets:!0});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.diagnostic,n=t.Issue,a=t.Specialisation,s=this.state,i=s.showDetails,c=s.showCabinets,r=s.details,o=s.cabinets,l=s.location;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(D.a,{className:"diagnostic_card",hoverable:!0,size:"small",title:n.Name,style:{width:300},onClick:this.getIssueDetails,children:[Object(x.jsx)("p",{children:n.ProfName}),Object(x.jsx)(I.a,{children:"Specialisations"}),a.map((function(e,t){return Object(x.jsx)(D.a,{size:"small",children:e.Name},t)}))]}),Object(x.jsxs)(J.a,{visible:i,onCancel:this.hideDetails,title:n.Name,children:[Object(x.jsx)("i",{children:r.Synonyms}),Object(x.jsx)(I.a,{children:"PossibleSymptoms"}),Object(x.jsx)("i",{children:r.PossibleSymptoms}),Object(x.jsx)(I.a,{children:"Description"}),Object(x.jsx)("p",{children:r.DescriptionShort}),Object(x.jsx)("p",{children:r.Description}),Object(x.jsx)("p",{children:r.MedicalCondition}),Object(x.jsx)(I.a,{children:"Treatments"}),Object(x.jsx)("p",{children:r.TreatmentDescription}),Object(x.jsx)(I.a,{children:"Specialisations"}),a.map((function(t,n){return Object(x.jsx)(D.a,{size:"small",hoverable:!0,onClick:function(n){n.preventDefault(),e.getCabinets(t.Name)},children:t.Name},n)}))]}),Object(x.jsx)(J.a,{visible:c,onCancel:this.hideCabinets,title:"Cabinets in your area",children:o.candidates?o.candidates.map((function(e,t){return Object(x.jsxs)(D.a,{hoverable:!0,size:"small",title:e.name,extra:e.opening_hours?e.opening_hours.open_now?"Open":"Closed":"",children:[Object(x.jsx)(R.a,{disabled:!0,defaultValue:e.rating}),Object(x.jsx)(U.a,{bordered:!1,ghost:!0,children:Object(x.jsx)(U.a.Panel,{className:"Colapse_Maps_container",header:e.formatted_address,children:Object(x.jsx)(Q,{className:"Maps_container",center:l,target:e.geometry.location})},"1")})]},t)})):Object(x.jsx)(W.a,{description:"We could not find any cabinets on the selected specialization in your area !"})})]})}}]),n}(j.a.Component),ee=(n(232),A.a.Option),te=n(48),ne=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={children:[],simptoms:[],diagnostics:[]},a.getDiagnostic=a.getDiagnostic.bind(Object(o.a)(a)),a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.request("/health/simptoms","GET");case 2:t=e.sent,this.setState({simptoms:t,children:t.map((function(e){return Object(x.jsx)(ee,{val:e.ID,children:e.Name},e.Name)}))});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDiagnostic",value:function(){var e=Object(i.a)(s.a.mark((function e(t){var n,a,i=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.simptoms.map((function(e){return i.state.simptoms.filter((function(t){return t.Name===e}))[0].ID})),e.next=3,te.request("/health/diagnosis?simptoms=".concat(JSON.stringify(n)),"GET");case 3:a=e.sent,this.setState({diagnostics:a});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.diagnostics;return Object(x.jsxs)("div",{className:"search_container",children:[Object(x.jsxs)(q.a,{className:"simptoms_form",onFinish:this.getDiagnostic,name:"diagnostic",children:[Object(x.jsx)(q.a.Item,{className:"simptoms_input",name:"simptoms",rules:[{required:!0,message:"To generate a diagnostic please enter a few simptoms first"}],valuePropName:"value",children:Object(x.jsx)(A.a,{mode:"multiple",placeholder:"Please select simptoms",className:"select_simptoms",children:this.state.children})}),Object(x.jsx)(q.a.Item,{children:Object(x.jsx)(f.a,{className:"comment_button",type:"primary",htmlType:"submit",children:Object(x.jsx)(L.a,{})})})]}),e.map((function(e,t){return Object(x.jsx)($,{diagnostic:e},t)})),0===e.length?Object(x.jsx)(W.a,{}):null]})}}]),n}(j.a.Component),ae=n(246),se=(n(140),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(x.jsx)(b.b,{className:"app_loader_2",size:"middle",children:Object(x.jsx)(ae.a,{size:"large"})})}}]),n}(j.a.Component)),ie=n(267),ce=n(268),re=n(269),oe=n(270),le=n(67),ue=n(247),pe=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state=a.props,a}return Object(r.a)(n,[{key:"render",value:function(){var e=this.state.comment;return Object(x.jsx)(ue.a,{author:Object(x.jsx)("div",{children:e.name}),avatar:Object(x.jsx)(P.a,{src:e.picture,alt:e.name}),content:Object(x.jsx)("p",{children:e.post}),datetime:Object(x.jsx)(le.a,{title:z()().format("YYYY-MM-DD HH:mm:ss"),children:Object(x.jsx)("span",{children:z()(e.time).fromNow()})})})}}]),n}(j.a.Component),je=n(48),de=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={openPost:!1,comments:[],likes:a.props.post.likes,dislikes:a.props.post.dislikes,action:a.props.likes[0]?a.props.likes[0].like?"like":"dislike":null},a.getComments=a.getComments.bind(Object(o.a)(a)),a.handleCancel=a.handleCancel.bind(Object(o.a)(a)),a.comment=a.comment.bind(Object(o.a)(a)),a.like=a.like.bind(Object(o.a)(a)),a}return Object(r.a)(n,[{key:"getComments",value:function(){var e=this;return new Promise(function(){var t=Object(i.a)(s.a.mark((function t(n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=e,t.next=3,je.request("/comments/".concat(e.props.post._id),"GET");case 3:t.t1=t.sent,t.t2={openPost:!0,comments:t.t1},t.t0.setState.call(t.t0,t.t2),n();case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"handleCancel",value:function(){this.setState({openPost:!1,comments:[]})}},{key:"comment",value:function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.loading("on"),e.next=3,je.request("/comments/".concat(this.props.post._id),"POST",t);case 3:return e.next=5,this.getComments();case 5:this.props.loading("off");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"like",value:function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=24;break}if("like"!==this.state.action){e.next=9;break}return this.props.loading("on"),e.next=5,je.request("/post/like/".concat(this.props.post._id),"DELETE");case 5:this.setState({action:null,likes:this.state.likes-1}),this.props.loading("false"),e.next=22;break;case 9:if("dislike"!==this.state.action){e.next=17;break}return this.props.loading("on"),e.next=13,je.request("/post/like/".concat(this.props.post._id),"POST");case 13:this.setState({action:"like",likes:this.state.likes+1,dislikes:this.state.dislikes-1}),this.props.loading("false"),e.next=22;break;case 17:return this.props.loading("on"),e.next=20,je.request("/post/like/".concat(this.props.post._id),"POST");case 20:this.setState({action:"like",likes:this.state.likes+1}),this.props.loading("false");case 22:e.next=45;break;case 24:if("dislike"!==this.state.action){e.next=32;break}return this.props.loading("on"),e.next=28,je.request("/post/dislike/".concat(this.props.post._id),"DELETE");case 28:this.setState({action:null,dislikes:this.state.dislikes-1}),this.props.loading("false"),e.next=45;break;case 32:if("like"!==this.state.action){e.next=40;break}return this.props.loading("on"),e.next=36,je.request("/post/dislike/".concat(this.props.post._id),"POST");case 36:this.setState({action:"dislike",likes:this.state.likes-1,dislikes:this.state.dislikes+1}),this.props.loading("false"),e.next=45;break;case 40:return this.props.loading("on"),e.next=43,je.request("/post/dislike/".concat(this.props.post._id),"POST");case 43:this.setState({action:"dislike",dislikes:this.state.dislikes+1}),this.props.loading("false");case 45:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.post,n=this.state,a=n.openPost,s=n.comments,i=n.likes,c=n.dislikes,r=n.action,o=[Object(x.jsx)(le.a,{title:"Like",children:Object(x.jsxs)("span",{onClick:function(t){t.preventDefault(),e.like(!0)},children:["liked"===r?Object(x.jsx)(ie.a,{}):Object(x.jsx)(ce.a,{}),Object(x.jsx)("span",{className:"comment-action",children:i})]})},"comment-basic-like"),Object(x.jsx)(le.a,{title:"Dislike",children:Object(x.jsxs)("span",{onClick:function(t){t.preventDefault(),e.like(!1)},children:["disliked"===r?Object(x.jsx)(re.a,{}):Object(x.jsx)(oe.a,{}),Object(x.jsx)("span",{className:"comment-action",children:c})]})},"comment-basic-dislike"),Object(x.jsx)("span",{onClick:this.getComments,children:"Comments"},"comment-basic-reply-to")];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(ue.a,{actions:o,author:Object(x.jsx)("div",{children:t.name}),avatar:Object(x.jsx)(P.a,{src:t.picture,alt:t.name}),content:Object(x.jsx)("p",{children:t.post}),datetime:Object(x.jsxs)(le.a,{title:z()().format("YYYY-MM-DD HH:mm:ss"),children:[" ",Object(x.jsx)("span",{children:z()(t.time).fromNow()})," "]})}),!0===a?Object(x.jsx)(J.a,{title:"Comments",visible:a,onCancel:this.handleCancel,footer:[Object(x.jsxs)(q.a,{name:"comment_form",onFinish:this.comment,className:"comment_form",children:[Object(x.jsx)(q.a.Item,{className:"comment_input_container",name:"comment",children:Object(x.jsx)(M.a,{className:"comment_input",placeholder:"Say what you think"})}),Object(x.jsx)(q.a.Item,{children:Object(x.jsx)(f.a,{className:"comment_button",type:"primary",htmlType:"submit",children:Object(x.jsx)(L.a,{})})})]})],children:s.map((function(e,t){return Object(x.jsx)(pe,{comment:e},t)}))}):null]})}}]),n}(j.a.Component),he=(n(238),n(48)),me=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={feed:[]},a.post=a.post.bind(Object(o.a)(a)),a.getFeed=a.getFeed.bind(Object(o.a)(a)),a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.loading("on"),e.next=3,this.getFeed();case 3:this.props.loading("off");case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getFeed",value:function(){var e=this;return new Promise(function(){var t=Object(i.a)(s.a.mark((function t(n,a){var i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,he.request("/posts","GET");case 2:i=t.sent,e.setState({feed:i.posts,likes:i.likes}),n();case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"post",value:function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.loading("on"),e.next=3,he.request("/posts","POST",t);case 3:return document.getElementById("comment_form_comment").value="",e.next=6,this.getFeed();case 6:this.props.loading("off");case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.feed,a=t.likes;return Object(x.jsxs)(b.b,{className:"home_container",direction:"vertical",children:[Object(x.jsx)("div",{className:"posts_container",children:n.length>0?n.map((function(t,n){return Object(x.jsx)(de,{loading:e.props.loading,likes:a.filter((function(e){return e.post_id===t._id})),post:t},n)})):Object(x.jsx)(W.a,{className:"no_data"})}),Object(x.jsxs)(q.a,{name:"comment_form",onFinish:this.post,className:"post_form comment_form",children:[Object(x.jsx)(q.a.Item,{className:"post_input_container",name:"comment",children:Object(x.jsx)(M.a,{className:"post_input",placeholder:"Say what you think"})}),Object(x.jsx)(q.a.Item,{children:Object(x.jsx)(f.a,{className:"comment_button",type:"primary",htmlType:"submit",children:Object(x.jsx)(L.a,{})})})]})]})}}]),n}(j.a.Component),be=(n(239),n(48)),Oe=m.a.Sider,fe=m.a.Content,xe=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).state={users:[]},e.getUsers=e.getUsers.bind(Object(o.a)(e)),e.getUsers(),e}return Object(r.a)(n,[{key:"getUsers",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be.request("/users","GET");case 2:t=e.sent,this.setState({users:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.users;return Object(x.jsx)(m.a,{className:"layout_message",children:Object(x.jsxs)(m.a,{className:"layout_message",children:[Object(x.jsxs)(Oe,{className:"sider_message",children:["List of users",e.map((function(e){return Object(x.jsx)(D.a,{hoverable:"true",className:"card_message",onClick:"",children:e.name})}))]}),Object(x.jsx)(fe,{style:{textAlign:"center"},children:"Content"})]})})}}]),n}(j.a.Component),ge=(n(240),m.a.Header),ve=m.a.Footer,ke=m.a.Content,ye=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).state={page:"",loading:!1},e.changePage=e.changePage.bind(Object(o.a)(e)),e.loading=e.loading.bind(Object(o.a)(e)),e}return Object(r.a)(n,[{key:"loading",value:function(e){this.setState({loading:"on"===e})}},{key:"changePage",value:function(e){this.setState({page:e})}},{key:"render",value:function(){var e=this.state,t=e.loading,n=e.page;return Object(x.jsxs)(m.a,{className:"App",children:[Object(x.jsx)(ge,{className:"Header",children:Object(x.jsx)(v,{})}),Object(x.jsxs)(ke,{className:"Content",children:[t?Object(x.jsx)(se,{}):null,"user"===n?Object(x.jsx)(H,{loading:this.loading}):null,"bell"===n?Object(x.jsx)(V,{loading:this.loading}):null,"search"===n?Object(x.jsx)(ne,{loading:this.loading}):null,"home"===n?Object(x.jsx)(me,{loading:this.loading}):null,"message"===n?Object(x.jsx)(xe,{loading:this.loading}):null]}),Object(x.jsx)(ve,{className:"Footer",children:Object(x.jsx)(S,{changePage:this.changePage})})]})}}]),n}(j.a.Component),_e=n(147),Ne=n.n(_e),we=n.p+"static/media/logo4x.a7ec0667.png",Ce=(n(241),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleLogin=function(){var e=Object(i.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("","/api/auth/google"),{method:"POST",body:JSON.stringify({googleData:t,token:t.tokenId}),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(!(a=e.sent).error){e.next=8;break}throw new Error(a.error);case 8:localStorage.sessionID=a.sessionID,window.location.reload();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e}return Object(r.a)(n,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"auth",children:[Object(x.jsx)("img",{className:"auth_logo",alt:"amazing app logo",src:we}),Object(x.jsx)(Ne.a,{clientId:"1064555667195-ia9b050tgs99p9alqf8i86pokjdv75a2.apps.googleusercontent.com",buttonText:"Log in with Google",onSuccess:this.handleLogin,onFailure:this.handleLogin,cookiePolicy:"single_host_origin"})]})}}]),n}(j.a.Component)),Se=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(x.jsx)(b.b,{className:"app_loader",size:"middle",children:Object(x.jsx)(ae.a,{size:"large"})})}}]),n}(j.a.Component),Pe=(n(127),n(260)),De=n(48),Ie=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onFinish=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.props.loading("on"),e.next=3,De.request("/profile","PATCH",t);case 3:a.props.loading("off"),window.location.reload();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onFinishFailed=function(e){console.log("Failed:",e)},a.state={user:a.props.user},a}return Object(r.a)(n,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"complete",children:[Object(x.jsx)("img",{className:"complete_logo",alt:"medpot logo",src:we}),Object(x.jsxs)(q.a,{className:"complete_form",name:"profile_info",initialValues:{remember:!0},onFinish:this.onFinish,onFinishFailed:this.onFinishFailed,children:[Object(x.jsx)(q.a.Item,{label:"CNP",name:"cnp",rules:[{required:!0,message:"Please input your CNP!"}],children:Object(x.jsx)(M.a,{className:"complete_form_input"})}),Object(x.jsx)(q.a.Item,{label:"Date of birth",name:"dob",rules:[{required:!0,message:"Please input your date of birth!"}],children:Object(x.jsx)(T.a,{className:"complete_form_input",format:"YYYY-MM-DD"})}),Object(x.jsx)(q.a.Item,{label:"Phone",name:"phone",children:Object(x.jsx)(M.a,{className:"complete_form_input"})}),Object(x.jsx)(q.a.Item,{label:"Weight",name:"weight",children:Object(x.jsx)(M.a,{className:"complete_form_input"})}),Object(x.jsx)(q.a.Item,{label:"Height",name:"height",children:Object(x.jsx)(M.a,{className:"complete_form_input"})}),Object(x.jsx)(q.a.Item,{label:"Medical Gender",name:"gender",children:Object(x.jsxs)(A.a,{className:"complete_form_input",placeholder:"Male or Female",allowClear:!0,children:[Object(x.jsx)(A.a.Option,{value:"male",children:"Male"}),Object(x.jsx)(A.a.Option,{value:"female",children:"Female"})]})}),Object(x.jsx)(q.a.Item,{label:"Blood type",name:"blood_type",children:Object(x.jsxs)(A.a,{className:"complete_form_input",placeholder:"A, B, AB or 0",allowClear:!0,children:[Object(x.jsx)(A.a.Option,{value:"A",children:"A"}),Object(x.jsx)(A.a.Option,{value:"B",children:"B"}),Object(x.jsx)(A.a.Option,{value:"AB",children:"AB"}),Object(x.jsx)(A.a.Option,{value:"0",children:"0"})]})}),Object(x.jsx)(q.a.Item,{rules:[{required:!0,message:"Due to new laws and regulations we need your consent in order to be able to process your data"}],name:"gdpr",valuePropName:"checked",children:Object(x.jsx)(Pe.a,{className:"complete_form_input",children:"I agree to GDPR"})}),Object(x.jsx)(q.a.Item,{className:"complete_submit",children:Object(x.jsx)(f.a,{className:"complete_submit_button",type:"primary",htmlType:"submit",children:"Submit"})})]})]})}}]),n}(j.a.Component),Fe=n(48),qe=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onFinish=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.props.loading("on"),e.next=3,Fe.request("/profile","PATCH",t);case 3:a.props.loading("off"),window.location.reload();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onFinishFailed=function(e){return console.log("Failed:",e)},a.state={user:a.props.user},a}return Object(r.a)(n,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"complete",children:[Object(x.jsx)("img",{className:"complete_logo",alt:"medpot logo",src:we}),Object(x.jsxs)(q.a,{className:"complete_form",name:"profile_info",initialValues:{remember:!0},onFinish:this.onFinish,onFinishFailed:this.onFinishFailed,children:[Object(x.jsx)(I.a,{children:" Doctor info"}),Object(x.jsx)(q.a.Item,{label:"Specialization",name:"specialization",rules:[{required:!0,message:"Please input your Specialization!"}],children:Object(x.jsx)(M.a,{className:"complete_form_input"})}),Object(x.jsx)(q.a.Item,{label:"Phone",name:"phone",children:Object(x.jsx)(M.a,{className:"complete_form_input"})}),Object(x.jsx)(I.a,{children:" Cabinet info"}),Object(x.jsx)(q.a.Item,{label:"Specialization",name:"specialization_cab",rules:[{required:!0,message:"Please input the cab's specializations!"}],children:Object(x.jsx)(M.a,{className:"complete_form_input"})}),Object(x.jsx)(q.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input the cab's email!"}],children:Object(x.jsx)(M.a,{className:"complete_form_input"})}),Object(x.jsx)(q.a.Item,{label:"Phone",name:"phone",children:Object(x.jsx)(M.a,{className:"complete_form_input"})}),Object(x.jsx)(q.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input the cab's name!"}],children:Object(x.jsx)(M.a,{className:"complete_form_input"})}),Object(x.jsx)(q.a.Item,{label:"Map",name:"map",rules:[{required:!0,message:"Please mark the location of the cab."}],children:Object(x.jsx)(M.a,{className:"complete_form_input"})}),Object(x.jsx)(q.a.Item,{rules:[{required:!0,message:"Due to new laws and regulations we need your consent in order to be able to process your data"}],name:"gdpr",valuePropName:"checked",children:Object(x.jsx)(Pe.a,{className:"complete_form_input",children:"I agree to GDPR"})}),Object(x.jsx)(q.a.Item,{className:"complete_submit",children:Object(x.jsx)(f.a,{className:"complete_submit_button",type:"primary",htmlType:"submit",children:"Submit"})})]})]})}}]),n}(j.a.Component),Me=n(48),Te=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onFinish=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.props.loading("on"),e.next=3,Me.request("/profile","PATCH",t);case 3:a.props.loading("off"),window.location.reload();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onFinishFailed=function(e){return console.log("Failed:",e)},a.pageSelect=function(e){return a.setState({page:e})},a.state={user:a.props.user,page:null},a.pageSelect=a.pageSelect.bind(Object(o.a)(a)),a}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return"patient"===this.state.page?Object(x.jsx)(Ie,{user:this.props.user,loading:this.props.loading}):"doctor"===this.state.page?Object(x.jsx)(qe,{user:this.props.user,loading:this.props.loading}):Object(x.jsxs)("div",{className:"complete",children:[Object(x.jsx)("img",{className:"complete_logo",alt:"medpot logo",src:we}),Object(x.jsxs)("div",{className:"complete_info_div",children:[Object(x.jsx)(I.a,{className:"complete_divider",children:"Hello !"}),Object(x.jsx)("p",{children:"We just want to make sure we are providing you with the right features according to your needs."}),Object(x.jsx)("p",{children:"We just need a bit more information about you."}),Object(x.jsx)(I.a,{className:"complete_divider",children:"First, you are .."})]}),Object(x.jsxs)("div",{className:"complete_btn",children:[Object(x.jsx)(f.a,{className:"btn-patient",onClick:function(t){t.preventDefault(),e.pageSelect("patient")},children:"A user"}),Object(x.jsx)(I.a,{className:"complete_divider",children:"OR"}),Object(x.jsx)(f.a,{className:"btn-doctor",onClick:function(t){t.preventDefault(),e.pageSelect("doctor")},children:"A doctor"})]})]})}}]),n}(j.a.Component),Ae=(n(242),n(48)),Ee=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).state={auth:null,complete:null,user:null,loading:!1},e.loading=e.loading.bind(Object(o.a)(e)),e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae.request("/session","GET");case 2:t=e.sent,this.setState({auth:t.auth,complete:t.complete,user:t.user});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loading",value:function(e){this.setState({loading:"on"===e})}},{key:"render",value:function(){var e=this.state,t=e.auth,n=e.loading,a=e.complete,s=e.user;return null===t||n?Object(x.jsx)(Se,{}):!0===t&&!1===a?Object(x.jsx)(Te,{user:s,loading:this.loading}):!0===t?Object(x.jsx)(ye,{}):Object(x.jsx)(Ce,{})}}]),n}(j.a.Component);h.a.render(Object(x.jsx)(Ee,{}),document.getElementById("root"))},48:function(e,t){e.exports={request:function(e,t,n){e=e.match(/http/)?e:""+e;var a={"Content-Type":"application/json",sessionID:localStorage.sessionID};return new Promise((function(s,i){fetch(e,{method:t,headers:a,body:n?JSON.stringify(n):null}).then((function(e){return e.json()})).then((function(e){return s(e)})).catch((function(e){return i(e)}))}))}}}},[[243,1,2]]]);
//# sourceMappingURL=main.c4416f57.chunk.js.map